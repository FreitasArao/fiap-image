# ADR 001 — Presigned URLs para Upload Direto no S3

| Campo      | Valor                |
|------------|----------------------|
| Status     | Aceito               |
| Data       | 2026-01-16           |
| Autor      | Arão Freitas         |

## Contexto

Upload de vídeos grandes (1 GB) dividido em 100 partes via cliente. Backend como proxy causaria latência duplicada, alto consumo de banda e custo de CPU/RAM.

## Decisão

Usar presigned URLs multipart para upload direto do cliente ao S3.

## Consequências

### Positivas

- Upload paralelo, retries por parte, segurança (URLs expiradas)
- Redução de custos de rede e infraestrutura do backend (~$320/mês para 10.000 vídeos)
- Escalabilidade automática pelo S3

### Negativas

- Maior complexidade no cliente para gerenciar upload multipart
- Dependência direta do S3 no frontend

## Alternativas Consideradas

1. **Proxy via Backend**: Descartado por latência duplicada e alto custo de infraestrutura
2. **Upload único sem multipart**: Descartado por falta de resiliência em uploads grandes

## Referências

- [AWS S3 Multipart Upload](https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.html)
- [Presigned URLs](https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-presigned-url.html)